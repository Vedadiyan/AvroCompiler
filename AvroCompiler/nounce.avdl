@version("1.0.0")
protocol Nounce {

    import idl "client.avdl";
    import idl "error.avdl";

    record GenerateReq {
        ClientInfo client;
        @validations(["required"]) 
        string username;
    }
    record GenerateRes {
        int status;
        string nounce;
    }
    record RetrieveReq {
        ClientInfo client;
        string username;
    }
    record RetrieveRes {
        int status;
        string nounce;
    }
    @nats({
        "namespace": "internal.nounce.generate"
    })
    GenerateRes Generate(GenerateReq generateReq) throws ErrorRes;
        @nats({
        "namespace": "internal.nounce.retrieve"
    })
    RetrieveRes Retrieve(RetrieveReq retrieveReq) throws ErrorRes;
}